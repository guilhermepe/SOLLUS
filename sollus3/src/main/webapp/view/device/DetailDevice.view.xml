<mvc:View
    controllerName="com.guiper.sollus.controller.device.DetailDevice"
    xmlns="sap.uxap"
    xmlns:f="sap.ui.layout.form"
    xmlns:m="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc">
    <m:Page
        id="deviceDetailsPage"
        title="{i18n>deviceSettingsTitle}"
        showHeader="{device>/system/phone}"
        showNavButton="{device>/system/phone}"
        navButtonPress="onNavButtonPress">
        <ObjectPageLayout
            id="objectPageLayout">
            <headerTitle>
                <ObjectPageHeader					
                    objectTitle="{Nome}">
                    <actions>
                        <ObjectPageHeaderActionButton
                            id="save"
                            text="{i18n>save}"
                            hideText="false"
                            press="onSavePressed"
                            type="Emphasized"/>
                        <ObjectPageHeaderActionButton
                            id="cancel"
                            text="{i18n>cancel}"
                            press="onCancelPressed"
                            hideText="false"/>
                    </actions>
                </ObjectPageHeader>
            </headerTitle>
            <headerContent>
                <m:MessageStrip
                    text="{
                        parts: [
                                'i18n>deviceName',
                                '{Nome}',
                                'view>/currentUser',
                                'view>/lastLogin'
                        ],
                        formatter: 'jQuery.sap.formatMessage'
                        }"
                    type="Information"
                    showIcon="true">
                </m:MessageStrip>
            </headerContent>
            <sections>
                <ObjectPageSection>
                    <subSections>
                        <ObjectPageSubSection
                            id="generalSettingsId"
                            title="{i18n>generalSettingsTitle}">
                            <blocks>
                                <ObjectPageLazyLoader
                                    id="generalSettingsLazyLoader">
                                    <f:SimpleForm
                                        title="{i18n>generalSettingsDetailTitle}"
                                        columnsL="2"
                                        columnsM="2"
                                        editable="true"
                                        layout="ResponsiveGridLayout">
                                        <f:content>
                                            <core:Title text="{i18n>ownerAddress}"/>
                                            <m:Label
                                                text="{i18n>deviceName}"
                                                labelFor="deviceNameInput"/>
                                            <m:Input
                                                id="deviceNameInput"
                                                type="Text"
                                                width="100%"
                                                value="{Nome}"/>
                                            <m:Label
                                                labelFor="latitudeInput"
                                                text="{i18n>latitudeInput}"/>
                                            <m:Input
                                                id="latitudeInput"
                                                type="Text"
                                                width="100%"
                                                value="{Latitude}"/>
                                            <m:Label
                                                labelFor="longitudeInput"
                                                text="{i18n>longitudeInput}"/>
                                            <m:Input
                                                id="longitudeInput"
                                                type="Text"
                                                width="100%"
                                                value="{Longitude}"/>
                                            <m:Label
                                                labelFor="deviceModelInput"
                                                text="{i18n>deviceModelInput}"/>
                                            <m:ComboBox
                                                id="deviceModelInput"
                                                selectedKey="{IdModelo}"
                                                items="{
													path: '/ModeloEquipamentos',
													sorter: { path: 'Nome' },
													suspended: false													
												}">												
                                                <core:ListItem key="{Id}" text="{Nome}"/>												
                                            </m:ComboBox>												
                                            <m:Label
                                                labelFor="installDateInput"
                                                text="{i18n>installDateInput}"/>
                                            <m:DatePicker
                                                id="installDateInput"
                                                displayFormat="short"
                                                width="100%"
                                                value="{
														path : 'DataInstalacao', 
             											type : 'sap.ui.model.type.Date',
             											formatOptions: { style : 'short'}
													}"/>
                                            <m:Label
                                                labelFor="deviceEnableSwitch"
                                                text="{i18n>deviceEnableSwitch}"/>
                                            <m:Switch
                                                type="AcceptReject" 
                                                state="{Habilitado}" 
                                                enabled="true"
                                                id="deviceEnableSwitch"/>									
										
                                        </f:content>
                                    </f:SimpleForm>
                                </ObjectPageLazyLoader>
                            </blocks>
                        </ObjectPageSubSection>
                    </subSections>
                </ObjectPageSection>
                <ObjectPageSection>
                    <subSections>
                        <ObjectPageSubSection
                            id="portsConfigurationId"
                            title="{i18n>portsConfigurationTitle}">
                            <blocks>
                                <ObjectPageLazyLoader
                                    id="portsConfigurationLazyLoader">
                                    <f:SimpleForm
                                        title="{i18n>editPortsConfigurationTitle}"
                                        columnsL="2"
                                        columnsM="2"
                                        editable="true"
                                        layout="ResponsiveGridLayout" >
                                        <m:List
                                            items="{PortaDetails}">
                                            <m:DisplayListItem
                                                label="{Nome}"
                                                value="{Id}"
                                                type="{= ${Nome} ? 'Active' : 'Inactive'}"
                                                press="onPortDetailClicked" />
                                        </m:List>
                                    </f:SimpleForm>
                                </ObjectPageLazyLoader>
                            </blocks>
                        </ObjectPageSubSection>
                    </subSections>
                </ObjectPageSection>
                <ObjectPageSection>
                    <subSections>
                        <ObjectPageSubSection
                            id="alarmsConfigurationId"
                            title="{i18n>alarmsConfigurationTitle}">
                            <blocks>
                                <ObjectPageLazyLoader
                                    id="alarmsConfigurationLazyLoader">
                                    <f:SimpleForm
                                        title="{i18n>alarmsConfigurationFormTitle}"
                                        columnsL="2"
                                        columnsM="1"
                                        editable="true"
                                        layout="ResponsiveGridLayout" >
                                        <f:content>
                                            <core:Title text="{i18n>alarmSettings}" />
                                            <m:Label
                                                labelFor="alarmsEnableSwitch"
                                                text="{i18n>alarmsEnable}"/>
                                            <m:Switch
                                                id="alarmsEnableSwitch"
                                                type="AcceptReject" 
                                                state="{AlarmeHabilitado}"/>	
                                            <m:Label
                                                labelFor="alarmCommunicationFailTime"
                                                text="{i18n>alarmCommunicationFailTime}"/>
                                            <m:Slider
                                                id="alarmCommunicationFailTime"												
                                                min="0"
                                                max="3600"
                                                enableTickmarks="true"
                                                showAdvancedTooltip="true"													
                                                class="sapUiSmallMarginBottom"
                                                width="80%"
                                                value="{TempoAlarmeEq}"/>												
                                            <m:Label
                                                labelFor="alarmsEmailSendSwitch"
                                                text="{i18n>alarmsEmailSendSwitch}"/>
                                            <m:Switch
                                                id="alarmsEmailSendSwitch"
                                                type="AcceptReject" 
                                                state="{EmailAlarmeEq}"/>
                                            <m:Label
                                                labelFor="alarmsSmsSendSwitch"
                                                text="{i18n>alarmsSmsSendSwitch}"/>
                                            <m:Switch
                                                id="alarmsSmsSendSwitch"
                                                type="AcceptReject" 
                                                state="{AlarmeSms}"/>																						
                                        </f:content>
                                    </f:SimpleForm>
                                </ObjectPageLazyLoader>
                            </blocks>
                        </ObjectPageSubSection>
                    </subSections>
                </ObjectPageSection>
                <ObjectPageSection>
                    <subSections>
                        <ObjectPageSubSection
                            id="advancedSettingsId"
                            title="{i18n>advancedSettingsTitle}">
                            <blocks>
                                <ObjectPageLazyLoader
                                    id="generalSettingsLazyLoader">
                                    <f:SimpleForm
                                        title="{i18n>advancedSettingsDetailTitle}"
                                        columnsL="2"
                                        columnsM="2"
                                        editable="true"
                                        layout="ResponsiveGridLayout">
                                        <f:content>
                                            <core:Title text="{i18n>deviceNetworkSettingsTitle}"/>
                                            <m:Label
                                                text="{i18n>communicationProtocolSelect"
                                                labelFor="networkProtocolSelectInput"/>
                                            <m:ComboBox
                                                id="networkProtocolSelectInput"
                                                selectedKey="{IdProtocolo}"
                                                items="{
                                                        path: '/ProtocoloEquipamentos',
                                                        sorter: { path: 'Nome' },
                                                        suspended: false													
                                                }">												
                                                <core:ListItem key="{Id}" text="{Nome}"/>												
                                            </m:ComboBox>
                                             <m:Label
                                                text="{i18n>connectionTypeSelect"
                                                labelFor="connectionTypeSelectInput"/>
                                            <m:ComboBox
                                                id="connectionTypeSelectInput"
                                                selectedKey="{IdTipoConexao}"
                                                items="{
                                                        path: '/TipoConexaos',
                                                        sorter: { path: 'tipoConexao' },
                                                        suspended: false													
                                                }">												
                                                <core:ListItem key="{Id}" text="{tipoConexao}"/>												
                                            </m:ComboBox>
                                            <m:Label
                                                labelFor="latitudeInput"
                                                text="{i18n>latitudeInput}"/>
                                            <m:Input
                                                id="latitudeInput"
                                                type="Text"
                                                width="100%"
                                                value="{Latitude}"/>
                                            <m:Label
                                                labelFor="longitudeInput"
                                                text="{i18n>longitudeInput}"/>
                                            <m:Input
                                                id="longitudeInput"
                                                type="Text"
                                                width="100%"
                                                value="{Longitude}"/>
                                            <m:Label
                                                labelFor="deviceModelInput"
                                                text="{i18n>deviceModelInput}"/>
                                            <m:ComboBox
                                                id="deviceModelInput"
                                                selectedKey="{IdModelo}"
                                                items="{
													path: '/ModeloEquipamentos',
													sorter: { path: 'Nome' },
													suspended: false													
												}">												
                                                <core:ListItem key="{Id}" text="{Nome}"/>												
                                            </m:ComboBox>												
                                            <m:Label
                                                labelFor="installDateInput"
                                                text="{i18n>installDateInput}"/>
                                            <m:DatePicker
                                                id="installDateInput"
                                                displayFormat="short"
                                                width="100%"
                                                value="{
														path : 'DataInstalacao', 
             											type : 'sap.ui.model.type.Date',
             											formatOptions: { style : 'short'}
													}"/>
                                            <m:Label
                                                labelFor="deviceEnableSwitch"
                                                text="{i18n>deviceEnableSwitch}"/>
                                            <m:Switch
                                                type="AcceptReject" 
                                                state="{Habilitado}" 
                                                enabled="true"
                                                id="deviceEnableSwitch"/>									
										
                                        </f:content>
                                    </f:SimpleForm>
                                </ObjectPageLazyLoader>
                            </blocks>
                        </ObjectPageSubSection>
                    </subSections>
                </ObjectPageSection>
            </sections>
        </ObjectPageLayout>
    </m:Page>
</mvc:View>
